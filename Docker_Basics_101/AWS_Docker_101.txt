INSTALL DOCKER IN AMI LINUX
sudo yum update
sudo yum install -y docker
sudo usermod -a -G docker ec2-user
sudo service docker start
sudo chkconfig docker on
Optionally, create a new user for Docker management and add him to Docker (default) group
useradd dockeradmin
passwd dockeradmin
usermod -aG docker dockeradmin
INSTALL DOCKER-COMPOSE
sudo curl -L https://github.com/docker/compose/releases/download/1.21.0/docker-compose-`uname -s`-`uname -m` | sudo tee /usr/local/bin/docker-compose > /dev/null
sudo chmod +x /usr/local/bin/docker-compose
ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose
docker-compose --version




https://hub.docker.com/_/postgres
THE BASICS
docker run postgres
docker pull postgres
docker run postgres -e POSTGRES_PASSWORD=password postgres
docker run postgress:9.6
docker run postgres -e POSTGRES_PASSWORD=password postgres


docker run 
docker pull 
docker pull ubuntu 
docker images | head 
docker ps 
docker ps -a 

docker start f2k3k5l6k6 


docker logs containerID 
docker logs -f containerID 

docker exec -it  contendorit  sh(ejecuta comando dentro del contenedor, docker run ejecuta una imagen y levanta un contenedor)
ls

docker ps
docker stop contendorid
docker ps

docker run -d contenedorid 
docker ps
docker logs -f contanienrID
docker ps
docker stop containerid containerid
docker ps
clear

APPS with DOCKERS
wget https://unir-profesantos.s3.eu-west-1.amazonaws.com/docker-basics-101.zip


docker images | grep alpine 

docker build  -t getting-started .   

docker ps 
docker run getting-started
localhost:3000 
docker run -dp 3000:3000 getting-started
docker ps
https://localhost:3000

docker ps
docker stop containerid
docker run -dp 3000:3000 getting-started 
docker ps
https://localhost:3000 
docker stop containerid
docker run  -d -v $PWD:/etc/todos -p 3000:3000 getting-started
docker ps
docker stop contaniner id
docker run  -d -v SPWD:/etc/todos -p 3000:3000 getting-started
http://localhost:3000 
ls 
docker stop containerid

vim src/static/js/app.js  (cambiar cosa por Item)
docker run  -d -v app/etc:/etc/todos -p 3000:3000  -v app/src:/app/src getting-started
http://localhost:3000 
vim app/src/static/js/app.js  
http://localhost:3000
docker build -t getting-starterd:v2 .     




SUBIR IMAGENES
docker login   
docker images | head
docker tag containerid santospardos/getting-started:v2
docker images  
dockier push santospardos/getting-started:v2    

VARIOS CONTENEDORES
ls
mkdir multi-container
cd  multi-container

docker network create todo-app
docker run -d \
--network todo-app --network-alias mysql \
-v todo-mysql-data:/var/lib/mysql \
-e MYSQL_ROOT_PASSWORD=secret \
-e MYSQL_DATABASE=todos \
mysql:5.7

docker ps
docker exec -it containerid mysql -p 
show databases;  
docker run -it --network todo-app nicolaka/netshoot
dig mysql    

docker run -dp 3000:3000 \
--network todo-app \
-e MYSQL_HOST=mysql \
-e MYSQL_USER=root \
-e MYSQL_PASSWORD=secret \
-e MYSQL_DB=todos \
getting-started:v2

docker ps   
http://localhost:3000 
docker ps
docker logs containerID 
http://localhost:3000  
docker stop contaninerid

docker run -dp 3000:3000 \
--network todo-app \
-e MYSQL_HOST=mysql \
-e MYSQL_USER=root \
-e MYSQL_PASSWORD=secret \
-e MYSQL_DB=todos \
getting-started:v2

tambien se conectada y tiene los datos en 
http://localhost:3000 


DOCKER COMPOSE 
docker stop containerID containeriD
docker compose
vim docker-compose.yaml





















































